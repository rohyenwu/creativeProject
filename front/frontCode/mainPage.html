<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <style>
            #wrapper {
                height: 100%;
                overflow-y: auto; /* 스크롤 영역 */
            }
        </style>
        <title>돌봄 나침반</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/—Pngtree—chongyang%20festival%20old%20man%20holding_3801893.png" />
        <!-- Custom Google font-->
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
    </head>
    <div id="wrapper">
    <body class="d-flex flex-column h-100 bg-light">
        <main class="flex-shrink-0">
            <!-- Navigation-->
            <nav class="navbar navbar-expand-lg navbar-light bg-white py-3">
                <div class="container px-5">
                    <a class="navbar-brand" href="mainPage.html"><span class="fw-bolder text-primary">돌봄 나침반</span></a>
                    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto mb-2 mb-lg-0 small fw-bolder">
                            <!--즐겨찾기 메뉴-->
                            <li class="nav-item" id="favoriteMenu" style="display: none">
                                <a class="nav-link" href="favorites.html">즐겨찾기</a></li>
                            <li class="nav-item" id="logoutMenu" style="display: none">
                                <button class="btn btn-link nav-link" id="logoutBtn" type="button">로그아웃</button>
                            </li>
                            <li class="nav-item" id="nonSignInUser" style="display: none">
                                <a class="nav-link" href="signIn.html">로그인하기</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- Projects Section-->
            <section>
                    <!--여기부터 전체 박스 -->
                    <div class="main-container">
                        <!-- 지도 영역 -->
                        <!--지도-->
                        <div id="map" style="width: 100%; height: 100%; border-radius: 10px;" class="px-5"></div>

                        <!-- 오른쪽 사이드바 -->
                        <div id="sidebar">
                            <div class="card-body p-5 results-scroll-container">
                                <form>
                                    <!-- 라디오 버튼 옵션 (가로 정렬) -->
                                    <div class="mb-3">
                                        <label class="fw-bold d-block mb-2">시설 유형</label>

                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" checked name="facilityType" id="total" value="total" onclick="toggleDropdowns()">
                                            <label class="form-check-label d-flex justify-content-between align-items-center" for="total">
                                                전체선택
                                                <img src="/front/frontCode/assets/total.png" width="28" height="24" alt="전체">
                                            </label>
                                        </div>

                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="facilityType" id="publicFacility" value="publicFacility" onclick="toggleDropdowns()">
                                            <label class="form-check-label d-flex justify-content-between align-items-center" for="publicFacility">
                                                공공시설
                                                <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-blue.png" width="20" height="24" alt="공공시설">
                                            </label>
                                        </div>

                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="facilityType" id="outing" value="outing" onclick="toggleDropdowns()">
                                            <label class="form-check-label d-flex justify-content-between align-items-center" for="outing">
                                                나들이
                                                <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-red.png" width="20" height="24" alt="나들이">
                                            </label>
                                        </div>

                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="facilityType" id="community" value="community" onclick="toggleDropdowns()">
                                            <label class="form-check-label d-flex justify-content-between align-items-center" for="community">
                                                복지시설
                                                <img src="https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-green.png" width="20" height="24" alt="복지시설">
                                            </label>
                                        </div>

                                        <div class="form-check">
                                            <input class="form-check-input" type="radio" name="facilityType" id="hospital" value="hospital" onclick="toggleDropdowns()">
                                            <label class="form-check-label d-flex justify-content-between align-items-center" for="hospital">
                                                병원
                                                <img src="assets/hospital.png" width="24" height="24" alt="병원">
                                            </label>
                                        </div>
                                    </div>
                                    <!--공공시설 드롭다운-->
                                    <div id="facilityDropdownFacility" class="ms-3" style="display: none">
                                        <select class="form-select">
                                            <option value="" selected>전체 선택</option>
                                            <option value="회의 및 세미나실">회의 및 세미나실</option>
                                            <option value="강당 및 공연장">강당 및 공연장</option>
                                            <option value="강의 및 교육실">강의 및 교육실</option>
                                            <option value="체육 시설">체육 시설</option>
                                            <option value="문화 및 예술 공간">문화 및 예술 공간</option>
                                            <option value="복지 및 커뮤니티">복지 및 커뮤니티</option>
                                            <option value="동아리 및 모임 공간">동아리 및 모임 공간</option>
                                            <option value="자연 및 야외 공간">자연 및 야외 공간</option>
                                            <option value="기타 시설">기타 시설</option>
                                        </select>
                                    </div>
                                    <!--여가시설 드롭다운-->
                                    <div id="facilityDropdownCommunity" class="ms-3" style="display: none">
                                        <select class="form-select">
                                            <option value="" selected>전체 선택</option>
                                            <option value="노인정/노인회관">노인정/노인회관</option>
                                            <option value="마을/새마을회관">마을/새마을회관</option>
                                            <option value="보육원/양로원">보육원/양로원</option>
                                            <option value="복지관">복지관</option>
                                        </select>
                                    </div>
                                    <br>
                                    <!-- 위치 입력 -->
                                    <div class="mb-3">
                                        <label for="location" class="fw-bold">위치 정보</label>
                                        <div class="input-group">
                                            <button type="button" class="btn btn-primary" onclick="searchAddress()">주소 검색</button>
                                            <input type="text" class="form-control" id="location" placeholder="ex) 경북 구미시 대학로 61" readonly onclick="searchAddress()">
                                        </div>
                                        <!-- 👇 [추가] 기본 위치 저장/삭제 UI -->
                                        <div class="mt-2 d-flex justify-content-end">
                                            <button type="button" class="btn btn-outline-secondary btn-sm me-2" onclick="saveDefaultAddress()">
                                                <i class="bi bi-pin-angle"></i> 이 위치를 기본으로 저장
                                            </button>
                                            <button type="button" class="btn btn-outline-danger btn-sm" onclick="clearDefaultAddress()">
                                                <i class="bi bi-x-circle"></i> 기본 위치 삭제
                                            </button>
                                        </div>
                                    </div>

                                    <!-- 검색 버튼 -->
                                    <div class="d-grid">
                                        <button type="button" class="btn btn-primary btn-lg" onclick="requestFacilities()">검색</button>
                                    </div>
                                </form>
                                <!--세부정보-->
                                    <div class="row justify-content-center">
                                        <!--전체-->
                                        <section id="totalFacilityResultsSection" style="display: none;">
                                            <h2 class="text-primary fw-bolder mb-0">전체시설 검색 결과</h2>
                                            <div id="totalFacilityCardsContainer">
                                                <!-- 공공시설 카드들이 여기에 동적으로 추가됩니다. -->
                                            </div>
                                        </section>
                                            <!--공공시설-->
                                            <section id="publicFacilityResultsSection" style="display: none;">
                                                <h2 class="text-primary fw-bolder mb-0">공공시설 검색 결과</h2>
                                                <div id="publicFacilityCardsContainer">
                                                    <!-- 공공시설 카드들이 여기에 동적으로 추가됩니다. -->
                                                </div>
                                            </section>
                                            <!--나들이 섹션 -->
                                            <section id="outingResultsSection" style="display: none;">
                                                <h2 class="text-secondary fw-bolder mb-4">나들이 검색 결과</h2>
                                                <div id="outingCardsContainer">
                                                    <!-- 나들이 카드들이 여기에 동적으로 추가됩니다. -->
                                                </div>
                                            </section>
                                            <!--복지시설 섹션-->
                                            <section id="cultureFestivalResultsSection" style="display: none;">
                                                <h2 class="text-warning fw-bolder mb-4">복지시설 검색 결과</h2>
                                                <div id="cultureFestivalCardsContainer">
                                                    <!-- 여가시설 카드들이 여기에 동적으로 추가됩니다. -->
                                                </div>
                                            </section>
                                            <!--병원 섹션-->
                                            <section id="hospitalResultSection" style="display: none;">
                                                <h2 class="text-danger fw-bolder mb-4">병원 검색 결과</h2>
                                                <div id="hospitalResultContainer">
                                                    <!-- 여가시설 카드들이 여기에 동적으로 추가됩니다. -->
                                                </div>
                                            </section>

                                    </div>
                            </div>
                            <button id="toggleBtn" class="btn btn-outline-secondary">
                                &raquo;
                            </button>
                            <div id="resizer"></div>

                        </div>
                    </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-white py-4 mt-auto">
            <div class="container px-5">
                <div class="row align-items-center justify-content-between flex-column flex-sm-row">
                    <div class="col-auto"><div class="small m-0">Copyright &copy; Creative Project 2025</div></div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <!-- Kakao 주소 검색 API 및 지도 API 스크립트 추가 -->
        <script src="https://t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=7c6d011bf1bdf797c5d0d19956948354&libraries=services"></script>
        <script src="js/MainPageSetting.js"></script>
        <script src="js/displayFacility.js"></script>
        <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_APP_KEY&libraries=services"></script>
    </body>
    </div>
</html>
